<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ Node.js –¥–æ–¥–∞—Ç–∫—ñ–≤ - –û–ª–µ–∫—Å—ñ–π –ö–æ–≤–∞–ª–µ–Ω–∫–æ</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="../../css/style.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <a href="../../index.html">–û–ª–µ–∫—Å—ñ–π –ö.</a>
            </div>
            <nav class="nav">
                <ul>
                    <li><a href="../../index.html" class="nav-link">–ì–æ–ª–æ–≤–Ω–∞</a></li>
                    <li><a href="../about.html" class="nav-link">–ü—Ä–æ –º–µ–Ω–µ</a></li>
                    <li><a href="../projects.html" class="nav-link">–ü—Ä–æ—î–∫—Ç–∏</a></li>
                    <li><a href="../contact.html" class="nav-link">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a></li>
                    <li><a href="../blog.html" class="nav-link active">–ë–ª–æ–≥</a></li>
                </ul>
            </nav>
            <button class="theme-toggle" id="themeToggle" aria-label="–ó–º—ñ–Ω–∏—Ç–∏ —Ç–µ–º—É">
                <span class="theme-icon">üåô</span>
            </button>
        </div>
    </header>

    <!-- Article Header -->
    <section class="article-header">
        <div class="container">
            <div class="article-meta">
                <span class="article-category">Backend</span>
                <span class="article-date">2 –≤–µ—Ä–µ—Å–Ω—è 2025</span>
                <span class="article-read-time">10 —Ö–≤ —á–∏—Ç–∞–Ω–Ω—è</span>
            </div>
            <h1 class="article-title">–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ Node.js –¥–æ–¥–∞—Ç–∫—ñ–≤</h1>
            <p class="article-subtitle">–¢–µ—Ö–Ω—ñ–∫–∏ —Ç–∞ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ Node.js –∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤: –≤—ñ–¥ –ø—Ä–æ—Ñ—ñ–ª—é–≤–∞–Ω–Ω—è –¥–æ –∫–µ—à—É–≤–∞–Ω–Ω—è</p>
            <div class="article-tags">
                <span class="tag">Node.js</span>
                <span class="tag">Performance</span>
                <span class="tag">Backend</span>
            </div>
        </div>
    </section>

    <!-- Article Content -->
    <article class="article-content">
        <div class="container">
            <div class="article-body">
                <img src="../../img/blog3.jpg" alt="Node.js Performance" class="article-image">

                <h2>–í—Å—Ç—É–ø –¥–æ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó Node.js</h2>
                <p>–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å Node.js –¥–æ–¥–∞—Ç–∫—ñ–≤ –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–∞ –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è —Ö–æ—Ä–æ—à–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞–ª—å—Å—å–∫–æ–≥–æ –¥–æ—Å–≤—ñ–¥—É. –£ —Ü—ñ–π —Å—Ç–∞—Ç—Ç—ñ —Ä–æ–∑–≥–ª—è–Ω–µ–º–æ –æ—Å–Ω–æ–≤–Ω—ñ –º–µ—Ç–æ–¥–∏ —Ç–∞ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó —à–≤–∏–¥–∫–æ–¥—ñ—ó –≤–∞—à–∏—Ö Node.js –∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤.</p>

                <h2>–ü—Ä–æ—Ñ—ñ–ª—é–≤–∞–Ω–Ω—è —Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥</h2>
                <h3>–í–±—É–¥–æ–≤–∞–Ω–∏–π –ø—Ä–æ—Ñ–∞–π–ª–µ—Ä Node.js</h3>
                <p>Node.js –º–∞—î –≤–±—É–¥–æ–≤–∞–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ:</p>

                <pre><code>
// –ó–∞–ø—É—Å–∫ –∑ –ø—Ä–æ—Ñ—ñ–ª—é–≤–∞–Ω–Ω—è–º
node --prof app.js

// –ê–Ω–∞–ª—ñ–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
node --prof-process isolate-0x103001600-12345-v8.log > processed.txt
                </code></pre>

                <h3>–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è clinic.js</h3>
                <pre><code>
npm install -g clinic

// –ê–Ω–∞–ª—ñ–∑ CPU
clinic doctor -- node app.js

// –ê–Ω–∞–ª—ñ–∑ –ø–∞–º'—è—Ç—ñ  
clinic heapprofiler -- node app.js

// –ê–Ω–∞–ª—ñ–∑ –∑–∞—Ç—Ä–∏–º–æ–∫
clinic bubbleprof -- node app.js
                </code></pre>

                <h2>–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è Event Loop</h2>
                <h3>–£–Ω–∏–∫–Ω–µ–Ω–Ω—è –±–ª–æ–∫—É–≤–∞–Ω–Ω—è Event Loop</h3>
                <p>Event Loop ‚Äî —Å–µ—Ä—Ü–µ Node.js. –í–∞–∂–ª–∏–≤–æ –Ω–µ –±–ª–æ–∫—É–≤–∞—Ç–∏ –π–æ–≥–æ —Ç—Ä–∏–≤–∞–ª–∏–º–∏ –æ–ø–µ—Ä–∞—Ü—ñ—è–º–∏:</p>

                <pre><code>
// –ü–æ–≥–∞–Ω–æ - –±–ª–æ–∫—É—î event loop
function heavyComputation() {
  let result = 0;
  for (let i = 0; i < 10000000; i++) {
    result += Math.sqrt(i);
  }
  return result;
}

// –ö—Ä–∞—â–µ - –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Worker Threads
const { Worker, isMainThread, parentPort } = require('worker_threads');

if (isMainThread) {
  const worker = new Worker(__filename);
  worker.postMessage(10000000);
  worker.on('message', (result) => {
    console.log('Result:', result);
  });
} else {
  parentPort.on('message', (num) => {
    let result = 0;
    for (let i = 0; i < num; i++) {
      result += Math.sqrt(i);
    }
    parentPort.postMessage(result);
  });
}
                </code></pre>

                <h3>–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è setImmediate —Ç–∞ process.nextTick</h3>
                <pre><code>
// process.nextTick –º–∞—î –Ω–∞–π–≤–∏—â–∏–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç
process.nextTick(() => {
  console.log('nextTick');
});

// setImmediate –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –ø—ñ—Å–ª—è I/O –ø–æ–¥—ñ–π
setImmediate(() => {
  console.log('setImmediate');
});

// setTimeout –º–∞—î –Ω–∞–π–Ω–∏–∂—á–∏–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç
setTimeout(() => {
  console.log('setTimeout');
}, 0);
                </code></pre>

                <h2>–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è —Ä–æ–±–æ—Ç–∏ –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö</h2>
                <h3>Connection Pooling</h3>
                <pre><code>
const mysql = require('mysql2');

// –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—É–ª—É –∑'—î–¥–Ω–∞–Ω—å
const pool = mysql.createPool({
  host: 'localhost',
  user: 'user',
  password: 'password',
  database: 'mydb',
  connectionLimit: 10,
  queueLimit: 0,
  acquireTimeout: 60000,
  timeout: 60000
});

// –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—É–ª—É
async function getUser(id) {
  const connection = await pool.promise().getConnection();
  try {
    const [rows] = await connection.execute('SELECT * FROM users WHERE id = ?', [id]);
    return rows[0];
  } finally {
    connection.release();
  }
}
                </code></pre>

                <h3>–Ü–Ω–¥–µ–∫—Å–∞—Ü—ñ—è —Ç–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∑–∞–ø–∏—Ç—ñ–≤</h3>
                <pre><code>
// –ü–æ–≥–∞–Ω–æ - –ø–æ–≤—ñ–ª—å–Ω–∏–π –∑–∞–ø–∏—Ç
SELECT * FROM users WHERE email = 'user@example.com';

// –ö—Ä–∞—â–µ - –∑ —ñ–Ω–¥–µ–∫—Å–æ–º
CREATE INDEX idx_users_email ON users(email);
SELECT id, name, email FROM users WHERE email = 'user@example.com';
                </code></pre>

                <h2>–ö–µ—à—É–≤–∞–Ω–Ω—è</h2>
                <h3>In-Memory –∫–µ—à—É–≤–∞–Ω–Ω—è –∑ Node-cache</h3>
                <pre><code>
const NodeCache = require('node-cache');
const cache = new NodeCache({ stdTTL: 600 }); // TTL 10 —Ö–≤–∏–ª–∏–Ω

async function getUserWithCache(id) {
  const cacheKey = `user_${id}`;

  // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –∫–µ—à
  let user = cache.get(cacheKey);
  if (user) {
    return user;
  }

  // –û—Ç—Ä–∏–º—É—î–º–æ –∑ –ë–î —è–∫—â–æ –Ω–µ–º–∞—î –≤ –∫–µ—à—ñ
  user = await getUserFromDB(id);

  // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –≤ –∫–µ—à
  cache.set(cacheKey, user);

  return user;
}
                </code></pre>

                <h3>Redis –¥–ª—è —Ä–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–æ–≥–æ –∫–µ—à—É–≤–∞–Ω–Ω—è</h3>
                <pre><code>
const redis = require('redis');
const client = redis.createClient();

async function setCache(key, value, expiration = 3600) {
  await client.setEx(key, expiration, JSON.stringify(value));
}

async function getCache(key) {
  const value = await client.get(key);
  return value ? JSON.parse(value) : null;
}

async function getUserWithRedis(id) {
  const cacheKey = `user:${id}`;

  let user = await getCache(cacheKey);
  if (user) {
    return user;
  }

  user = await getUserFromDB(id);
  await setCache(cacheKey, user);

  return user;
}
                </code></pre>

                <h2>–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è HTTP –∑–∞–ø–∏—Ç—ñ–≤</h2>
                <h3>–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è HTTP/2</h3>
                <pre><code>
const http2 = require('http2');
const fs = require('fs');

const server = http2.createSecureServer({
  key: fs.readFileSync('key.pem'),
  cert: fs.readFileSync('cert.pem')
});

server.on('stream', (stream, headers) => {
  stream.respond({
    'content-type': 'text/html',
    ':status': 200
  });
  stream.end('<h1>Hello HTTP/2!</h1>');
});
                </code></pre>

                <h3>–°—Ç–∏—Å–Ω–µ–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π</h3>
                <pre><code>
const express = require('express');
const compression = require('compression');

const app = express();

// –£–≤—ñ–º–∫–Ω–µ–Ω–Ω—è gzip —Å—Ç–∏—Å–Ω–µ–Ω–Ω—è
app.use(compression({
  level: 6,
  threshold: 1024,
  filter: (req, res) => {
    if (req.headers['x-no-compression']) {
      return false;
    }
    return compression.filter(req, res);
  }
}));
                </code></pre>

                <h2>–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ø–∞–º'—è—Ç—ñ</h2>
                <h3>–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ</h3>
                <pre><code>
function logMemoryUsage() {
  const usage = process.memoryUsage();
  console.log({
    rss: Math.round(usage.rss / 1024 / 1024) + ' MB',
    heapTotal: Math.round(usage.heapTotal / 1024 / 1024) + ' MB',
    heapUsed: Math.round(usage.heapUsed / 1024 / 1024) + ' MB',
    external: Math.round(usage.external / 1024 / 1024) + ' MB'
  });
}

// –õ–æ–≥—É–≤–∞–Ω–Ω—è –∫–æ–∂–Ω—ñ 30 —Å–µ–∫—É–Ω–¥
setInterval(logMemoryUsage, 30000);
                </code></pre>

                <h3>–£–Ω–∏–∫–Ω–µ–Ω–Ω—è –≤–∏—Ç–æ–∫—ñ–≤ –ø–∞–º'—è—Ç—ñ</h3>
                <pre><code>
// –ü–æ–≥–∞–Ω–æ - –≤–∏—Ç—ñ–∫ –ø–∞–º'—è—Ç—ñ —á–µ—Ä–µ–∑ circular reference
function createUser() {
  const user = {
    name: 'John',
    sessions: []
  };

  const session = {
    user: user,
    id: Date.now()
  };

  user.sessions.push(session);
  return user; // Circular reference!
}

// –ö—Ä–∞—â–µ - –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è WeakMap
const userSessions = new WeakMap();

function createUserSafe() {
  const user = { name: 'John' };
  const session = { id: Date.now() };

  userSessions.set(user, [session]);
  return user;
}
                </code></pre>

                <h2>–ú–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è –∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤</h2>
                <h3>Cluster API</h3>
                <pre><code>
const cluster = require('cluster');
const numCPUs = require('os').cpus().length;

if (cluster.isMaster) {
  console.log(`Master ${process.pid} is running`);

  // –°—Ç–≤–æ—Ä—é—î–º–æ worker –ø—Ä–æ—Ü–µ—Å–∏
  for (let i = 0; i < numCPUs; i++) {
    cluster.fork();
  }

  cluster.on('exit', (worker, code, signal) => {
    console.log(`Worker ${worker.process.pid} died`);
    cluster.fork(); // –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—î–º–æ worker
  });
} else {
  // Worker –ø—Ä–æ—Ü–µ—Å–∏ –º–æ–∂—É—Ç—å –¥—ñ–ª–∏—Ç–∏ TCP –ø–æ—Ä—Ç
  require('./app.js');
  console.log(`Worker ${process.pid} started`);
}
                </code></pre>

                <h2>–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É</h2>
                <h3>PM2 –¥–ª—è production</h3>
                <pre><code>
// ecosystem.config.js
module.exports = {
  apps: [{
    name: 'my-app',
    script: 'app.js',
    instances: 'max',
    exec_mode: 'cluster',
    env: {
      NODE_ENV: 'production'
    },
    error_file: './logs/err.log',
    out_file: './logs/out.log',
    log_file: './logs/combined.log',
    time: true
  }]
};

// –ó–∞–ø—É—Å–∫
pm2 start ecosystem.config.js
                </code></pre>

                <h2>–ü–æ—Ä–∞–¥–∏ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ—ó –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ</h2>
                <ol>
                    <li><strong>–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –æ—Å—Ç–∞–Ω–Ω—é LTS –≤–µ—Ä—Å—ñ—é Node.js</strong></li>
                    <li><strong>–û–ø—Ç–∏–º—ñ–∑—É–π—Ç–µ JSON –æ–ø–µ—Ä–∞—Ü—ñ—ó</strong> - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ fast-json-stringify</li>
                    <li><strong>–ö–µ—à—É–π—Ç–µ —Å—Ç–∞—Ç–∏—á–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏</strong> - –Ω–∞–ª–∞—à—Ç—É–π—Ç–µ CDN</li>
                    <li><strong>–ú—ñ–Ω—ñ–º—ñ–∑—É–π—Ç–µ dependencies</strong> - –∞—É–¥–∏—Ç—É–π—Ç–µ node_modules</li>
                    <li><strong>–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ TypeScript</strong> - –¥–ª—è –∫—Ä–∞—â–æ—ó –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó V8</li>
                </ol>

                <h2>–í–∏—Å–Ω–æ–≤–∫–∏</h2>
                <p>–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è Node.js –¥–æ–¥–∞—Ç–∫—ñ–≤ ‚Äî —Ü–µ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∏–π –ø—Ä–æ—Ü–µ—Å, —è–∫–∏–π –≤–∫–ª—é—á–∞—î –ø—Ä–æ—Ñ—ñ–ª—é–≤–∞–Ω–Ω—è, –∫–µ—à—É–≤–∞–Ω–Ω—è, –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—é –±–∞–∑ –¥–∞–Ω–∏—Ö —Ç–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è. –†–µ–≥—É–ª—è—Ä–Ω–∏–π –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –¥–æ–ø–æ–º–æ–∂—É—Ç—å –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –≤–∏—Å–æ–∫—É –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –≤–∞—à–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É.</p>
            </div>

            <div class="article-navigation">
                <a href="../blog.html" class="back-to-blog">‚Üê –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ –±–ª–æ–≥—É</a>
                <div class="article-share">
                    <span>–ü–æ–¥—ñ–ª–∏—Ç–∏—Å—è:</span>
                    <a href="#">Twitter</a>
                    <a href="#">LinkedIn</a>
                    <a href="#">Facebook</a>
                </div>
            </div>
        </div>
    </article>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>–û–ª–µ–∫—Å—ñ–π –ö–æ–≤–∞–ª–µ–Ω–∫–æ</h3>
                    <p>Full-Stack –≤–µ–±-—Ä–æ–∑—Ä–æ–±–Ω–∏–∫</p>
                </div>
                <div class="footer-section">
                    <h4>–ù–∞–≤—ñ–≥–∞—Ü—ñ—è</h4>
                    <ul>
                        <li><a href="../../index.html">–ì–æ–ª–æ–≤–Ω–∞</a></li>
                        <li><a href="../about.html">–ü—Ä–æ –º–µ–Ω–µ</a></li>
                        <li><a href="../projects.html">–ü—Ä–æ—î–∫—Ç–∏</a></li>
                        <li><a href="../contact.html">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>–°–æ—Ü—ñ–∞–ª—å–Ω—ñ –º–µ—Ä–µ–∂—ñ</h4>
                    <div class="social-links">
                        <a href="#" aria-label="GitHub">GitHub</a>
                        <a href="#" aria-label="LinkedIn">LinkedIn</a>
                        <a href="#" aria-label="Telegram">Telegram</a>
                        <a href="#" aria-label="Email">Email</a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 –û–ª–µ–∫—Å—ñ–π –ö–æ–≤–∞–ª–µ–Ω–∫–æ. –í—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω–æ.</p>
            </div>
        </div>
    </footer>

    <script src="../../js/script.js"></script>
</body>
</html>